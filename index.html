<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css" rel="stylesheet">
        <link rel="stylesheet" href="./index.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <title>Users</title>
    </head>

    <body class="bg-gray-500">

        <nav class="grid grid-cols-2">
            <h1 class="font-mono pr-10 pt-6 underline text-2xl text-blue-900 ML-2 text-center mb-5 md:mr-32 md:text-4xl sm:mr-8">ALL USERS</h1>
            <a href="./addUser.html"><button class="md:invisible w-24 h-8 mr-2 float-right bg-blue-900 rounded-xl ml-20 mt-6 hover:bg-white sm:mr-6"><p class="text-sm font-light text-white hover:text-blue-900">Add User</p></button></a>
        </nav>

        <table class=" border-2 font-light mt-2 pl-5 bg-gray-400 ml-2 mr-2 sm:ml-8 md:ml-5" id="user_table">
            <tr class="border-2">
                <th class="border-2 h-8 w-32 bg-white ">First Name </th>
                <th class="border-2 w-24 bg-white "> Last Name </th>
                <th class="border-2 w-32 bg-white sm:w-32"> Username </th>
                <th class="border-2 w-36 bg-white sm:w-64"> Position </th>
            </tr>
        </table> 

        <a href="./addUser.html"><button class="md:w-24 md:h-10 md:bg-blue-900 md:rounded-xl md:ml-2 md:mt-6 md:hover:bg-white"><p class="invisible md:visible md:text-sm md:font-light md:text-white md:hover:text-blue-900">Add User</p></button></a>



        <script> 

            $(document).ready(function() {
                $.getJSON('./data/db.json', function(data) { 
                    var user_data = '';
                    $.each(data, function(key,value){
                        $.each(value, function(index, user){
                            user_data += '<tr>';
                            user_data += '<td>' + user.firstname + '</td>';
                            user_data += '<td>' + user.lastname + '</td>';
                            user_data += '<td>' + user.username + '</td>';
                            user_data += '<td>' + user.position + '</td>';
                            user_data += '</tr>';
                        })
                    });

                    $('#user_table').append(user_data);   
                });
            });
        
        </script>

    </body>
</html>

